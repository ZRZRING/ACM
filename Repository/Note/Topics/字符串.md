[A-Bobo String Construction_2023牛客暑期多校训练营4 (nowcoder.com)](https://ac.nowcoder.com/acm/contest/57358/A)

[代码查看 (nowcoder.com)](https://ac.nowcoder.com/acm/contest/view-submission?submissionId=63115674)

关键字：border。

猜测全 $0$ 串和全 $1$ 串中一定至少存在一个解，判定 $s$ 是否全一样，若全部一样则输出和最后一个字符不同的串，否则输出和最后一个字符相同的串。

但是会发现，我们记添加的串为 $t$，不合法的构造会出现 $s$ 的一段后缀加 $t$ 加 $s$ 的一段前缀，等于 $s$，而上述构造可以被 `110011`，$|t| = 2$ 这样的数据 hack。

所以我们必须保证 $t$ 不为 $s$ 的子串，使用 kmp 判断即可。

现在证明为什么一定全 $0$ 串和全 $1$ 串中一定至少存在一个解。若 $s$ 为全 $0$ 或全 $1$ 结论很显然，反之，考虑 $s$ 的 border，即最长公共前后缀。若 border 全 $0$ 或全 $1$，那就让 $t$ 和 border 相同，因为若此操作不合法的话，那么容易发现会产生 $s$ 为全 $0$ 或全 $1$ 的矛盾；反之，只要 $t$ 和去掉 border 后的 $s$ 不相等，该 $t$ 即为一种解。综上，原命题得证。

---

> 将一个字符串将若干子串视为整体后，该字符串满足长度为偶数的回文串的性质，我们称该字符串为超级回文串。求一个字符串的子串中，超级回文串的个数

[The 2023 ICPC Asia Regionals Online Contest (2) (pintia.cn)](https://pintia.cn/market/item/1705511462254264320)

[Ubuntu Pastebin](https://pastebin.ubuntu.com/p/XwDs8Yk2KD/)

计算出每个区间的哈希值，枚举一个中间点和臂长，会发现超级回文串的判定是单调的，也就是说，我们只需要判断当前臂长与上一个满足超级回文串的臂长之间的区间是否相等，即可判断该区间是否为超级回文串，复杂度 $\mathcal O(n^2)$。

---

